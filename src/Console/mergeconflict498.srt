1
00:00:00,150 --> 00:00:08,250
James: Welcome back everyone to Merge Conflict, your weekly developer podcast. I'm your host James Montemagno and with me Frank Kruger. or Frank, I'm in a hotel room. Ta-da! I'm in beautiful Bellevue, Washington.

2
00:00:08,250 --> 00:00:10,940
Frank: oh

3
00:00:10,940 --> 00:00:22,070
Frank: It's every other week. James, where the world is James? This time he is in Bellevue, Washington. The wrong state, James. You're not supposed to be in that state. supposed to be in the one to the bottom a little bit.

4
00:00:22,070 --> 00:00:32,390
James: States are states, you know. you know know No ah income tax here, so baller. Well, I do have my travel mic here, so I'm on the good road. Someone did ask me.

5
00:00:32,390 --> 00:00:37,820
James: This is the Elgato Wave Neo something. i don't know if Frank, you got one, right? You got a thingy?

6
00:00:37,820 --> 00:00:53,340
Frank: I did get one on your recommendation. I got it ah for the best reason to buy something. I thought it was cute. I had no idea if it worked well, but you had brought yours to our in-person recording. If you haven't seen, James and I were in the same room together. It was very weird.

7
00:00:53,340 --> 00:01:07,540
Frank: And you had the cutest little mic. And I said, well, my mic's volume button or dial keeps falling off. So maybe it's time for a new travel mic. And yours was so cute. I got the same one. I have no idea if it works well.

8
00:01:07,540 --> 00:01:09,020
Frank: You sound pretty good, though.

9
00:01:09,020 --> 00:01:18,550
James: I think it's not pretty good. We got some compliments on the YouTube, which is great. yeah it's a good little travel, Mike. It required some... um construction because you got like put it together but i think that's okay it makes you work for the microphone you know

10
00:01:18,550 --> 00:01:22,330
Frank: Hmm.

11
00:01:22,330 --> 00:01:27,320
Frank: seemed a little heavier than the previous. Is that in the stand or is that in the microphone?

12
00:01:27,320 --> 00:01:29,110
James: uh in the stand yeah definitely in the stand and i like because you can it's got a nice little mute button it's got the filter and it's really nice so the stand is nice and heavy so i feel like you and it doesn't want to move

13
00:01:29,110 --> 00:01:38,520
Frank: Yeah.

14
00:01:38,520 --> 00:01:46,370
James: which I, which I appreciate compared to a lot of other, those kinds of travel microphones. I had this also when I was in not Portugal as well. So I think that's where the compliments came from.

15
00:01:46,370 --> 00:01:47,040
Frank: Okay.

16
00:01:47,040 --> 00:01:58,070
James: Yeah. When we record in person, the microphone did sound amazing, but we forgot to check your Mac input volume slider. And it was like super low. So we, we did republish that podcast.

17
00:01:58,070 --> 00:02:02,050
James: I apologize people in the comments. We republished it, boosted the audio as much as we could and from there.

18
00:02:02,050 --> 00:02:02,830
Frank: Ooh.

19
00:02:02,830 --> 00:02:14,710
James: But Frank, um, You also got something else really quick as an aside for this podcast in the mail, a little surprise goodie.

20
00:02:14,710 --> 00:02:41,270
Frank: That's right, James. And you know exactly what it is because you sent it to me. Nice trick, buddy. We have done so many Nintendo recap and Nintendo hardware announcements. And I believe in every Nintendo episode we do, I'm like, maybe I'll try the Nintendo. I haven't had one since 1989 or whenever they came out Maybe it'd be fun to have one. And I never got around to purchasing a Nintendo.

21
00:02:41,270 --> 00:02:54,220
Frank: And then out of the blue, James texts me and says, i got this little pink Nintendo thing. Do you want it? And I said, yes, I want it. So here I am, James. I now am the proud renter or owner.

22
00:02:54,220 --> 00:02:59,450
Frank: I'm not even sure what the right word is of a cute little pink Nintendo switcheroon. I believe it's a switch one.

23
00:02:59,450 --> 00:03:03,510
James: you have ah you have a you have a land yeah Do you have a land lease on that switch? and

24
00:03:03,510 --> 00:03:15,800
Frank: yeah i believe the tax man's going to come. I'm going to owe something to someone. you know Nothing's free in this world. But this one just arrived in the mail. So I really don't know what the terms are.

25
00:03:15,800 --> 00:03:26,440
Frank: ah It's cute. I've been having fun. i have been saving Hyrule. don't know what all you other people have been doing this whole time because Hyrule still needs saving.

26
00:03:26,440 --> 00:03:37,500
Frank: There's all these like pig creatures, which i i tried I tried to make like peace deals with them, but the peace deals fell through. And so I just had to go and start murdering with my sticks.

27
00:03:37,500 --> 00:03:52,140
Frank: So I've been picking up a lot of sticks, eating a lot of apples and murdering pig people. um Not sure this is great for kids, but that's my 10 year late review of the Nintendo Switch. I very much enjoy killing pig people with sticks.

28
00:03:52,140 --> 00:04:02,620
James: Nice. And if you're, if you're just listening, yes, Frank was waving around, just waving around in the air. Is the Nintendo Switch Lite, is the original Switch correct? So it doesn't have the detachable, right? So it's only on the go.

29
00:04:02,620 --> 00:04:05,260
James: You can't like plug it into a TV, but I had ah an extra, no.

30
00:04:05,260 --> 00:04:08,420
Frank: I cannot.

31
00:04:08,420 --> 00:04:12,540
Frank: There's a USB-C port. I can't just jam every kind of connector onto this thing.

32
00:04:12,540 --> 00:04:12,900
James: It will not work, no.

33
00:04:12,900 --> 00:04:14,620
Frank: Nintendo, what are you doing?

34
00:04:14,620 --> 00:04:24,160
James: No, because the normal Nintendo Switch is the light because it's it's portable only. So, so, um but I think that's okay because you're going to like it. it's It's totally fine. I sent you three games.

35
00:04:24,160 --> 00:04:24,500
Frank: Yeah.

36
00:04:24,500 --> 00:04:26,360
James: I sent you. um So, okay, here's here's how this is working, fam, for for our listeners.

37
00:04:26,360 --> 00:04:30,740
Frank: Mm.

38
00:04:30,740 --> 00:04:34,510
James: Frank is the official owner of that Nintendo Switch. Like, that is yours.

39
00:04:34,510 --> 00:04:36,570
James: It's yours. Yeah.

40
00:04:36,570 --> 00:04:41,570
Frank: Ooh, tax-free.

41
00:04:41,570 --> 00:04:46,570
Frank: Cool.

42
00:04:46,570 --> 00:04:51,570
James: Tax-free, both in all ways. But I sent you three games and those games are on loan. So those games, so when you go to the brand new website that I vibe coded, myswitchlibrary.com, you can now search and you can actually edit and you can say, I am borrowing these games.

43
00:04:51,570 --> 00:04:53,510
Frank: Oh.

44
00:04:53,510 --> 00:04:53,780
James: You don't even own them.

45
00:04:53,780 --> 00:04:54,310
Frank: Oh.

46
00:04:54,310 --> 00:05:07,380
James: So you can filter. Yeah, because I made that for you. vibe coded this website and we're going to talk about some Mac-y, iOS-y things in here in a little bit for for for um for lease management.

47
00:05:07,380 --> 00:05:44,340
James: But I decided to I vibe go to this website for you, Frank, because I texted you a bunch of photos. I was like, hey, here are all my games. which is not the best thing because they're little tiny cartridges. You got to zoom in And I was like, okay, Frank's never one, never going to respond. so I just picked out three games for you. But I was like, what if I had a website where you could see my games and be like, oh, I want this one. So I vibe coded my switch library.com, which allows you to log in do your libraries. You can now follow and you have followers. I changed the entire friend system. I changed the backend. It's beautiful. It's got all the stuff. And then you can add and you can search. There's also trending now. So it has all this stuff and, um, which is really cool.

48
00:05:44,340 --> 00:05:49,950
James: learned a lot making it, which is really nice. Um, I have a bunch of new features coming. I'm really excited about it.

49
00:05:49,950 --> 00:06:01,100
Frank: I love that you just vibe code every random idea that you have now. ah that That's my favorite part of this whole story so far. I mean, the fact that I got free games is kind of fun too, but the fact that you vibe code everything, totally trippy.

50
00:06:01,100 --> 00:06:08,340
James: Yeah. So you got Legend of Zelda, the first one, Breath of the Wild.

51
00:06:08,340 --> 00:06:09,300
Frank: Yeah.

52
00:06:09,300 --> 00:06:17,500
James: yeah That's the first one. And Tears the Kingdom i haven't even played yet, which I do own. Then I sent you everyone's favorite, Mario Kart 8, because everyone loves Mario Kart 8. Deluxe is like the best. And then I also sent you Mario versus Rabbids.

53
00:06:17,500 --> 00:06:19,980
Frank: okay

54
00:06:19,980 --> 00:06:24,470
James: Okay, this is like XCOM. Do you know XCOM, like a grid-based system?

55
00:06:24,470 --> 00:06:25,620
Frank: No, I don't know.

56
00:06:25,620 --> 00:06:26,590
James: Okay.

57
00:06:26,590 --> 00:06:34,650
Frank: This one confused me a little bit because at first he said you said you were going to send me Mario RPG. So I was ready to go murdering more skeletons in a dungeon with Mario.

58
00:06:34,650 --> 00:06:36,150
James: No, no, that's stuff that is that's a different game.

59
00:06:36,150 --> 00:06:37,340
Frank: yeah

60
00:06:37,340 --> 00:06:43,450
James: I do own that game, but this is a different game. This is a a Mario turn based to have it's a turn based grid thing.

61
00:06:43,450 --> 00:06:46,790
Frank: Okay. Tactical shooter. No.

62
00:06:46,790 --> 00:06:47,930
James: Tactical shooter.

63
00:06:47,930 --> 00:06:48,500
Frank: but Is it really?

64
00:06:48,500 --> 00:06:48,810
James: They have guns.

65
00:06:48,810 --> 00:06:49,100
Frank: Oh, poor Mario.

66
00:06:49,100 --> 00:06:50,210
James: They have guns.

67
00:06:50,210 --> 00:06:52,280
Frank: Oh, no. Okay.

68
00:06:52,280 --> 00:06:52,630
James: Lasers.

69
00:06:52,630 --> 00:07:06,460
Frank: ah I do love my Mario games. um I'm more used to jumping on turtles with my Mario, but I will i will try this gun gun Mario, I guess. Kind of reminds me of that movie from the 90s. I think they had guns in that one, too.

70
00:07:06,460 --> 00:07:19,260
James: I think i it's it's ah it's like a grid based system. I really like it because it's strategic, tactical, ah fun, and it's Ubisoft games. So it's Ubisoft. So it's got the Rabbids, which are like these Rabbid characters and you got the Mario characters.

71
00:07:19,260 --> 00:07:29,390
James: It's really fun. I beat the entire game and that's a lot saying because I beat the entire game. But you'll you can you'll spend hundreds of hours inside of Hyrule. So you know you get to those games whenever.

72
00:07:29,390 --> 00:07:30,350
Frank: Yeah.

73
00:07:30,350 --> 00:07:38,520
James: So enjoy it um and we'll get your full review. in few months after you beat it.

74
00:07:38,520 --> 00:07:51,380
Frank: Yeah, so far, all I can say is I really enjoy it. And it does mark that I'm getting old because the little icon that tells you what button to press, I have to squint a little bit. I'm like, oh, God, what are they telling? What button are they telling me to press? Yeah.

75
00:07:51,380 --> 00:07:57,710
James: That's true. it It is a little small on the Switch Lite. I'm not going to lie. That's the one thing. It's a little bit smaller for screen, especially compared to the Switch 2. um All right.

76
00:07:57,710 --> 00:07:58,320
Frank: Okay.

77
00:07:58,320 --> 00:08:06,070
James: Eight minutes in. Let's talk about it. Release management of... Mac, Apple software. Frank, I recently went through some release management and you know, we, I've i've now got set up inside of GitHub actions and also Xcode cloud build um publishing, releasing all my.NET MAUI apps, my Blazor hybrid apps.

78
00:08:06,070 --> 00:08:26,250
Frank: okay

79
00:08:26,250 --> 00:08:35,790
James: I even have a Swift app in there, but I recently, um We're going through and figuring out how to do this for baby smash Mac edition for Scott Hanselman, because he distributes this not on the app store because it and requires on the windows, tons of wind 32 crazy hooks on the Mac.

80
00:08:35,790 --> 00:08:44,520
Frank: Oh, yeah.

81
00:08:44,520 --> 00:08:51,800
James: It also requires all sorts of illegal things that you can't do inside of a sandbox application.

82
00:08:51,800 --> 00:08:58,580
Frank: have Have you tested that? Because, I mean, there are entitlements for a lot of that crazy stuff. You couldn't get it to work with the entitlements. Okay, fair enough.

83
00:08:58,580 --> 00:08:59,160
James: No. co Co-pilot said no.

84
00:08:59,160 --> 00:09:00,600
Frank: Fair enough.

85
00:09:00,600 --> 00:09:01,750
James: Co-pilot said nope. And like, it's like, no.

86
00:09:01,750 --> 00:09:03,120
Frank: Oh.

87
00:09:03,120 --> 00:09:03,220
James: Yeah.

88
00:09:03,220 --> 00:09:04,340
Frank: even try? Okay, fine.

89
00:09:04,340 --> 00:09:08,980
James: And i I looked up the entitlement that it said and it's like, you cannot sandbox this app. So you can do a lot of it, but then for all intents and purposes, when once you sandbox, there are things like spotlight that you cannot, it's illegal to disable inside a sandbox, like because of the settings and some of the other things that you can't get out of.

90
00:09:08,980 --> 00:09:21,750
Frank: Yeah.

91
00:09:21,750 --> 00:09:31,290
James: But that meant for the first time in my life, I had to Figure out how to do hardening. is that what it is?

92
00:09:31,290 --> 00:09:34,200
Frank: Oh, yeah. A hardened runtime, puppy.

93
00:09:34,200 --> 00:09:34,770
James: ah hardened runtime.

94
00:09:34,770 --> 00:09:39,610
Frank: Yeah, this is. And notarizing. These are two different things. Yes.

95
00:09:39,610 --> 00:09:44,280
James: I notarized it. Yes. This was the most wild, wacky thing that I've ever done in my life because I'm trying to distribute this outside of the app store.

96
00:09:44,280 --> 00:09:51,250
Frank: Yeah.

97
00:09:51,250 --> 00:09:56,220
James: And I also needed to get an app updater. I use sparkle, which apparently is very popular on the Mac um to, to implement, but to do this, yes, I had to have a heart and run time and I had to notarize my application and it's, it's, it's,

98
00:09:56,220 --> 00:09:58,930
Frank: Oh, gosh.

99
00:09:58,930 --> 00:10:06,360
Frank: Hilarious.

100
00:10:06,360 --> 00:10:08,950
Frank: Yeah.

101
00:10:08,950 --> 00:10:23,110
James: two things that I've never done before. And additionally, like they still require the other things that I do for normal app signing, like get provisioning profiles and get, well, actually you don't get provisioning profiles, but you get sort sort of certificates and you get like an app ID.

102
00:10:23,110 --> 00:10:24,290
Frank: Yeah.

103
00:10:24,290 --> 00:10:33,780
James: And then you have to get in like app specific identifier things so you can log in. And it's like, it's calling like a weird backend and like sending my app to some server. Like what is happening, Frank?

104
00:10:33,780 --> 00:10:53,980
Frank: Yeah. It's a good question. I've been doing this for 10 years and I still ask myself what is happening every time I have to do it because I take notes on like the command lines I have to do. um I've done it both. I've done it like through Xcode and I've done it the command line. It's kind of janky both ways to be thoroughly honest.

105
00:10:53,980 --> 00:11:11,900
Frank: um Right, so there's three things at play here. There's the sandbox, the hardened runtime and notarization. They're all kind of separate from each other. The sandbox is the sandbox. We all know it. We all love it. It's the thing you need to enable to be on the App Store.

106
00:11:11,900 --> 00:11:24,020
Frank: And that was the original thing that came out. And that basically just limits all the things that the app is allowed to do. It changes the namespaces, what it's allowed to see in the file system, all that good stuff.

107
00:11:24,020 --> 00:11:41,600
Frank: The hardened runtime is a whole nother security layer on top of that, an optional security layer, at least it used to be optional. um I honestly can't remember, like at one point the app store was gonna require hardened runtimes also, and then I'm not sure if they backed off on that.

108
00:11:41,600 --> 00:11:53,140
Frank: Honestly, I get confused whether I'm using the hardened runtime from time to time, but it is separate from the sandbox. It's just a whole nother set of constraints that you need to enable in your app.

109
00:11:53,140 --> 00:12:04,600
Frank: And the weird thing is you need to have, i'm pretty sure you need to have a hard and run time in order to be notarized. And you need to be notarized if you want to distribute your stuff. Not on the App Store.

110
00:12:04,600 --> 00:12:17,120
Frank: Are you confused yet? And on top of that, you need a developer account to be notarized, but you don't need the developer account that you pay for to enable notarization, but you still need a developer account.

111
00:12:17,120 --> 00:12:17,530
Frank: Are you confused yet?

112
00:12:17,530 --> 00:12:18,760
James: Yep.

113
00:12:18,760 --> 00:12:22,940
Frank: And if you're not, I can add more to It's the wackiest security model I've ever seen.

114
00:12:22,940 --> 00:12:26,360
James: It's true.

115
00:12:26,360 --> 00:12:29,940
Frank: Apple, what the heck are you doing to us?

116
00:12:29,940 --> 00:13:00,730
James: It's wild. So what happens here is it gets like the Mac set up. It gets Xcode set up. it ends up like grabbing things from like this derived data cache and then it installs. So it, it installs your Apple developer cert. So it like creates variables, imparts your certs, creates a temporary key chain, imports to the key chain or certificates to the key chain logs in and temporary key chain to search through that list, verifies that the certificates were imported. Then you build the thing. I'm setting some information.

117
00:13:00,730 --> 00:13:13,760
James: Then you build an archive and it has like you set, ah your all your schema, your archive development team, your versions, and then you have all these crazy code sign flags that you have to pass in.

118
00:13:13,760 --> 00:13:13,780
Frank: Yeah.

119
00:13:13,780 --> 00:13:39,030
James: And then you have to export it. And when you export it, you also have to send it like tons of different flags. And then there's an entire notarization step. And like, this isn't anything special, like inside of the inside of the the GitHub workflow, inside of actions, it's really doing anything special. Like it's gonna create a zip it like does a bunch of stuff into like some XC run notary tool that's apparently installed like with your zip.

120
00:13:39,030 --> 00:13:46,810
James: And it sends just like passwords and team ideas. And then like it comes back and it's just like, I notarized it. And then you get that and then you grab that zip distribution and then that is your distribution.

121
00:13:46,810 --> 00:13:51,780
Frank: yeah.

122
00:13:51,780 --> 00:14:05,850
James: And and then what happens is like, what the the flow that set up here is it not only like gets that it will distract it and it'll send it to spectacle and verify that the code sign actually did get it on top of it, which is like wild because like there's this, there's all of these crazy so command line tools that are actually like on your machine to verify all this stuff.

123
00:14:05,850 --> 00:14:14,180
Frank: yeah

124
00:14:14,180 --> 00:14:25,260
James: So you can grab this notarized package if it did work. Cause like just through the command line, like you're saying, And then spectacle, that's what I'm to call it at least, like literally like looks in and it's like, oh, cool. Like, yeah, here is what actually signed it.

125
00:14:25,260 --> 00:14:27,350
James: It's like wild.

126
00:14:27,350 --> 00:14:34,110
Frank: Yeah, so you're talking about the CI CD approach for doing this all like on a server and doing it all at the command line, it is pretty confusing.

127
00:14:34,110 --> 00:14:36,510
James: Mm hmm.

128
00:14:36,510 --> 00:14:47,060
Frank: The original flow was more apply and maybe just as confusing. But the the original flow was you would build your app and just archive it.

129
00:14:47,060 --> 00:14:55,990
Frank: So archiving in the.NET world, there's like a CS Proj setting, like archive on build or something close to that. Or just another target you could do with MSBuilder.NET, archiving it.

130
00:14:55,990 --> 00:15:02,460
James: Yeah.

131
00:15:02,460 --> 00:15:16,920
Frank: it It was always just around. And then you would go to Xcode. This is how I rocked it in the old days. You would go to Xcode and you can view your archives. So if you go to Xcode, you can bring up a thing called the organizer and all your archived builds show up there.

132
00:15:16,920 --> 00:15:28,030
Frank: What I would do then is select the build and then you can say um distribute to Apple. You're not uploading to the App Store, just distribute to Apple. When you click that button, they give you the option.

133
00:15:28,030 --> 00:15:31,680
Frank: Do you want to put it on the App Store? Do you just want to notarize it? You select notarize, click, click, click, progress bar, progress bar, progress bar.

134
00:15:31,680 --> 00:15:36,620
James: Yeah.

135
00:15:36,620 --> 00:15:47,510
Frank: It poops out a new.app file for you. Or is it a zip? I can't even remember these days. It might even be a package. Ooh. It is the package, I believe, at least for Mac apps.

136
00:15:47,510 --> 00:15:58,100
Frank: um And then that's the one that you would publish to your own servers for Sparkle, which you mentioned, which we won't talk about just yet because that's a whole other layer on top of all this nonsense.

137
00:15:58,100 --> 00:16:14,810
Frank: um But it was it was a manual process and it was scary every time because you had no idea, like, at least they're not doing an app review or anything. All I think it's really doing is registering some certificates and some hashes with their own servers.

138
00:16:14,810 --> 00:16:26,220
Frank: All of this in the name of, if you give a person that package file or the.app, it won't present the scary dialogue. You know the scary dialogue.

139
00:16:26,220 --> 00:16:26,510
Frank: You click on the app and it's like, you download this from the internet are you sure you want to run it you're like yes i want to run it's like yeah but this is in developer side are you sure you want to run it you're like yes i want to run it and then apple's like okay we deleted it for you you're like no and it's like if you undelete the file you can go to settings and maybe run it so you go to settings you undelete it you go to settings and you click the button it's like are you sure you want to run this you're like yes just let me run the stupid app And you click the button and it's like, okay, maybe you should go start the app.

140
00:16:26,510 --> 00:16:57,970
James: Yes. yes

141
00:16:57,970 --> 00:17:09,980
Frank: You run the app and it's like, are you for real sure? You say yes. And then you run the app. So if you don't want that distribution model for your apps, this is the notarization process you have to go through.

142
00:17:09,980 --> 00:17:27,140
James: Oh, this is is amazing. Yeah. Like, um, we all ah go down that route like because apparently no one's notarizing their apps, but I thought I didn't even realize. So when I know it went down, I was like, I thought I actually had to notarize the app to even, even I thought I was just going to get the scary dialogue anyways, but yeah, I didn't.

143
00:17:27,140 --> 00:17:27,940
James: And was cool about that is like, yeah, once it's in your down download folder, you can just run it and drag it to your apps or whatever.

144
00:17:27,940 --> 00:17:33,470
Frank: Yeah.

145
00:17:33,470 --> 00:17:46,590
James: And it's just normal. which is great. And that's what I, um, I, I successfully did it. Um, it totally happened funnily enough and crazily enough, like copilot wrote like an 18 step process to walk me through doing all of this.

146
00:17:46,590 --> 00:17:48,230
Frank: Oh, gosh.

147
00:17:48,230 --> 00:17:56,790
James: Let me see if I can find it in baby smash. Cause it like it lit. I mean, honestly, the GitHub release workflow is 300 lines of YAML.

148
00:17:56,790 --> 00:17:56,830
Frank: Oh, no.

149
00:17:56,830 --> 00:18:04,090
James: Like it is, is, but because it's doing all the sparkle stuff too, it is like bananas, uh, in general.

150
00:18:04,090 --> 00:18:10,070
Frank: We should write a proper action for this so we can sum it all up into like a sub-build thing. um And i do I should say, like, on top of this, it's all Spotlight-driven.

151
00:18:10,070 --> 00:18:16,490
James: Oh yeah.

152
00:18:16,490 --> 00:18:42,820
Frank: Spotlight is an indexing service for the computer, but it's also very much tied into Apple's security model. And there are some things, applications, that... As a developer, like we' we're using build folders. You mentioned the drive data. That's where Xcode likes to put a lot of its builds and things like that. In.NET, we have the bin and OBJ directories, usually nested away in our little like projects folder and all that stuff.

153
00:18:42,820 --> 00:18:43,350
James: Yeah.

154
00:18:43,350 --> 00:19:27,060
Frank: It will be weird, like, if you're testing the security model, it won't work the way it's going to work on another person's machine. And that's because the slash applications folder isn't just a convenient place to put applications. It is marked in Spotlight and in a lot of heuristics, a lot of algorithms on Apple's security side to treat those apps differently than other apps. So while it's true on Mac, you can drag your.app around to any folder and it should run, the security model changes a bit, especially when it comes to registering file handlers and things like that also, if your app is document-based.

155
00:19:27,060 --> 00:19:46,990
Frank: um A lot of like spotlight indexing, a lot of metadata just doesn't work unless you actually put into your applications folder. So I just wanna give it as a pro tip to developers out there. um If you really wanna test if your app is signed correctly, working everything, you literally have to drag it into the applications folder from time to time.

156
00:19:46,990 --> 00:19:54,550
Frank: Because if you just leave it in the downloads folder, there's metadata attached to it that this has been downloaded, that'll trigger all different security things.

157
00:19:54,550 --> 00:19:55,160
James: Yeah.

158
00:19:55,160 --> 00:19:58,660
Frank: um So testing this stuff is actually a pain in the butt. You really want to unarchive it and drag it into the applications folder.

159
00:19:58,660 --> 00:20:02,070
James: Well,

160
00:20:02,070 --> 00:20:06,390
James: and legitimately like when you use sparkle to do the auto updating, if it, it will literally be like, you cannot auto update from the download folders for that reason.

161
00:20:06,390 --> 00:20:12,300
Frank: Mm-hmm.

162
00:20:12,300 --> 00:20:16,030
James: I didn't know why, but now I do. It's like, please put this in your applications. Cause it's like, it just can't do it inherently.

163
00:20:16,030 --> 00:20:17,740
Frank: Okay.

164
00:20:17,740 --> 00:20:32,860
James: But yeah, It's wild. Like, I think it's one of the most crazy process I've been to, but then like, it gets a little bit crazier because like, it's not only that I decided to go down this route, but because I wanted auto updating, it means I needed versioning and I needed a way to trigger that.

165
00:20:32,860 --> 00:20:38,620
James: And that's where sparkle comes in and sparkle basically is like an an app updater, right? Like kind of like MSIX kind of like publishing, and but I wanted to publish these packages or these,

166
00:20:38,620 --> 00:20:43,060
Frank: Yeah.

167
00:20:43,060 --> 00:20:48,130
James: these releases to GitHub releases. i wanted everything to be on GitHub actions.

168
00:20:48,130 --> 00:20:49,620
Frank: Okay. Okay.

169
00:20:49,620 --> 00:20:58,140
James: And what that meant was that for the first time in my life, I used tags. You know get tag is?

170
00:20:58,140 --> 00:21:01,560
Frank: yeah Yeah, dude, I know what a get tag is. But welcome welcome to the world.

171
00:21:01,560 --> 00:21:03,460
James: Uh,

172
00:21:03,460 --> 00:21:06,360
Frank: You know what work trees are, but you haven't used tags? My goodness.

173
00:21:06,360 --> 00:21:09,200
James: I haven't had a reason. So I just YOLO.

174
00:21:09,200 --> 00:21:14,200
Frank: Woohoo!

175
00:21:14,200 --> 00:21:35,540
James: I mean, I used to go in Azure DevOps and I would have it like create a release, which inherently creates a tag under the hood. So what I do now in and this recommended path via co-pilot was create a tag, push a tag, and then the tag will trigger a the build, which will create the GitHub release, which would then update, you guessed it, an XML file for Sparkle that tells Sparkle what version of your app is stupid.

176
00:21:35,540 --> 00:21:36,380
James: Why is it just an XML file?

177
00:21:36,380 --> 00:21:41,050
Frank: Okay, kind can can I give a small intro to Sparkle here? because i thinkre So if you've never done Mac development before, there's a fundamental problem on Mac is that um Apple doesn't give you any way to update apps.

178
00:21:41,050 --> 00:21:47,960
James: Yes.

179
00:21:47,960 --> 00:21:48,510
Frank: And no one wants to write an app updater.

180
00:21:48,510 --> 00:21:50,680
James: Yeah.

181
00:21:50,680 --> 00:21:56,310
Frank: Obviously, the recommended approach is you distribute your apps on the App Store. That's obviously the recommended approach. But...

182
00:21:56,310 --> 00:21:58,680
James: Yeah. You could brew, I guess.

183
00:21:58,680 --> 00:22:11,210
Frank: Yeah, sure. Fine. Don't do that. It's very hostile to everyone. Don't don't make people use brew. So Sparkle was written, believe in the Bronze Age, something like 3000 BC.

184
00:22:11,210 --> 00:22:17,180
Frank: um it's It's a classic library. So it's really just a library and you just link it into your app.

185
00:22:17,180 --> 00:22:18,840
James: Yeah.

186
00:22:18,840 --> 00:22:47,700
Frank: And it has, if you've ever gone up to your like um application menu and said, check for updates, and it says there's an update and it gives you a little message box and the message box has a little like what's new in it. And then there's an update button. 99% of the chance you're using Sparkle or that app is using Sparkle. And this is the UI that everyone's using. a Funny note, the creator of Sparkle highly recommends that no one use Sparkle anymore.

187
00:22:47,700 --> 00:22:58,580
Frank: And has been recommending that no one use Sparkle anymore for at least 10 years. And yet we all still use Sparkle. Everyone uses Sparkle. Because you know what? It works.

188
00:22:58,580 --> 00:23:13,580
Frank: And it's it's a simple premise. um You configure Sparkle to point at a web server. And it's just going to look for XML file on that web server. That XML file is going to list every version of the app.

189
00:23:13,580 --> 00:23:26,810
Frank: It's going to look at what version's installed. It's going to look at that XML file, see, oh, there's a new one. And in that XML file, it has a version number. And it points to a new package or a.app. I think it can handle both.

190
00:23:26,810 --> 00:23:41,300
Frank: And then Sparkle will handle the the dirty, ugly task of downloading the app Killing your app, doing the swappy swappy, putting the new app in its place, and then restarting your app.

191
00:23:41,300 --> 00:23:53,020
Frank: um It's kind of a miracle. Sparkle still works, but I think people still work on Sparkle. That's why it still works. But given all of Apple's security models, it's a small miracle. Sparkle still works. Anyway, it's a great project.

192
00:23:53,020 --> 00:23:59,450
Frank: And the entire world depends on It's one of those small open source projects that the entire world depends on. And the creator of it says, stop using it, please.

193
00:23:59,450 --> 00:24:03,930
James: Yeah.

194
00:24:03,930 --> 00:24:09,850
James: Yeah. Anyways, that's been my fun release stuff. What's been your fun release stuff?

195
00:24:09,850 --> 00:24:13,410
Frank: um Did you know a new thing came out,.NET 10?

196
00:24:13,410 --> 00:24:15,640
James: I've heard of it. I'm releasing all my apps with that in a 10 in fact.

197
00:24:15,640 --> 00:24:31,580
Frank: okay Well, I had updated to.NET 9.9995. I wasn't actually up to a.NET 10. And talking about releases, I missed my release.

198
00:24:31,580 --> 00:24:50,650
Frank: I really wanted to have all my apps updated for.NET 10 with all the Glass Effects and the Xcode 26s and the iOS 26s and all that before the holiday season. But I got distracted not doing that and just traveling for the holiday season.

199
00:24:50,650 --> 00:25:06,650
Frank: And so I'm catching up, James, on this little thing called.NET 10 because I had actually gotten the.NET 10 SDK. But back in the day, you would get the.NET 10 SDK, but I was still building.NET 9 apps.

200
00:25:06,650 --> 00:25:36,730
Frank: And it's just been in the last week that I've actually been properly updating all my apps to.NET 10. So am. ten so here i am I'm not that late. I'm just like a month, month and a half late to the.NET 10 party. i I thought like maybe I was already done because I was using the 10 SDK, but building.NET 9 apps, I thought I was just going to jururu install it and all my CI CD is going to work. No, it's never that easy. So I've been enjoying the fun process.

201
00:25:36,730 --> 00:25:46,230
Frank: And you and I are always talking about how it's actually pretty easy to update.NET versions now. You just do a grep, search for.NET 9, replace with.NET 10.

202
00:25:46,230 --> 00:25:51,130
James: i have the I've been using like the the GitHub Copilot upgrade assistant thing, modernization tool.

203
00:25:51,130 --> 00:25:51,870
Frank: Yeah.

204
00:25:51,870 --> 00:26:01,630
James: And you can do that. And it's like, oh, I'm on nine. I'm doing this thing. And my apps aren't that complex. like Sometimes it'll update some libraries. It'll check for like you know vulnerabilities and things like that, which is like nice and compatibility.

205
00:26:01,630 --> 00:26:02,690
Frank: Mm-hmm.

206
00:26:02,690 --> 00:26:17,060
James: Or like it'll look up like, okay, like hey, in.NET 10, this line of code was like you know deprecated and it'll flag it or whatnot. But for the majority of my apps, it's literally just like, runs all the stuff and all the scans and it's like net nine, net 10.

207
00:26:17,060 --> 00:26:17,900
James: And i was like, cool, nailed it.

208
00:26:17,900 --> 00:26:18,100
Frank: Yeah.

209
00:26:18,100 --> 00:26:20,630
James: Perfect. Now it gives me recommendations because of other stuff, but like the, it'll, you know, the minimal viable upgrade, right?

210
00:26:20,630 --> 00:26:24,380
Frank: Yeah, yeah.

211
00:26:24,380 --> 00:26:25,050
James: Which is usually pretty good.

212
00:26:25,050 --> 00:26:50,140
Frank: Yeah. Yeah, and honestly, it hasn't been that hard for me. I got bit in the butt because i love to use reflection. And it turns out they changed a few of the reflection rules. If you're not a mobile developer out there, then you haven't had the pleasure to deal with the.NET trimmer that likes to analyze all your code and remove dead code, which is a great thing. It's a good thing. It keeps our app sizes down.

213
00:26:50,140 --> 00:27:06,040
Frank: But whenever they change the trimming algorithm, it can drive you a little bit nuts, especially for people like me that loves to use a lot of reflection and all that stuff. So I've been enjoying the fun party of updating everything to.NET 10, which overall, real easy.

214
00:27:06,040 --> 00:27:17,940
Frank: But I've definitely hit a hiccup of I've had to refine and improve, I'll call it improve, a lot of my code to be more trim compatible.

215
00:27:17,940 --> 00:29:03,620
Frank: um And that's mostly meant that I have to use generics everywhere. um i used to have, i still have, and I continue to have, and but I'm replacing a lot of functions that just take like objects and then object the type. And then it will call like get type reflection. now get the assembly and it'll find all the types in the assembly. And then I'll start poking around and looking for all the types that implement this interface and then put them in a list and then start activate or create instancing of them. And then they all appear. This work works great, except not with trim mode enabled. It's very upset at me. And so what you have to do is put these attributes everywhere where you're basically telling, I'm not sure if you're telling the compiler, if it's more of just like a warnings check and all that stuff, but you're declaring like, hey, I'm going to use this type dynamically. I'm going to look up its methods dynamically. I want, parameter list constructors because I'm going to be constructing it using activator create instance so it's just been a lot of bookkeeping going through a lot of my old code I think if if you don't do a lot of reflection and stuff this probably that won't affect you very much but I'm a hacksaw use tons of it and I've been writing this code for the last like 15 years so I have some ancient ancient code I have code in there from the days before generics even worked like on iOS. That's why that code doesn't even have generics. So I'm taking that ancient code and dragging it into 2026. So it's been a lot of fun, James.

216
00:29:03,620 --> 00:29:12,970
James: That's crazy. I think we did an entire podcast on wasn't it, it was in Donna eight or Donna nine when it was like you had to do some stuff for making SQLite dash net linker safe.

217
00:29:12,970 --> 00:29:20,700
Frank: One of those.

218
00:29:20,700 --> 00:29:21,240
James: I know this is kind of different maybe, but similar.

219
00:29:21,240 --> 00:29:34,510
Frank: Yes. Same. Very similar. Yeah, same. Same similar. Because SQLite-net used a lot of just object parameter types.

220
00:29:34,510 --> 00:29:43,900
Frank: Because I would use reflection, would say get type and then look up my database, figure out the object relational mapping and do all that stuff at runtime, which is fine.

221
00:29:43,900 --> 00:29:44,920
James: Mm-hmm.

222
00:29:44,920 --> 00:30:08,150
Frank: But the problem is the compiler can't statically analyze the code to figure out, am I allowed to get rid of this method? Am I allowed to get rid of this property and that kind of stuff? so I didn't even do the majority of the work. Actually, a contributor did the majority of the work for SQLite and put all the proper annotations in there.

223
00:30:08,150 --> 00:30:33,240
Frank: Now, in retrospect, after I've used it for a year, I think I'm going to go through and change it yet again because I don't think we perfectly nailed the interface. It's still a little bit clunky to use with trimming. But yeah, very much so. um In general, there's two big annotations you could put in your code. One is something like requires unaccessed members or something like that.

224
00:30:33,240 --> 00:30:34,700
Frank: That's the bad one. If you put that attribute on anything, oh my goodness, you are basically just punting the problem.

225
00:30:34,700 --> 00:30:40,900
James: Yeah.

226
00:30:40,900 --> 00:30:52,880
Frank: Because any code that calls that function that needs to also be marked requires unaccessed members or something. And then any code that calls that one has to be attributed requires.

227
00:30:52,880 --> 00:31:31,290
Frank: And eventually you get to the point where you just can't put the attribute on things. And then the compiler yells at you, it's like, your app is garbage. Please give up programming. You don't know what you're doing. So the better one is um called dynamically accesses members. and So the required one, bad. Dynamically, good. Because the dynamically, you can say it's going to look up properties, it's going to look up methods. And that's the one um I'm switching my apps to use. And that's the one SQLite-Net should be using the most. Because static analysis can happen. Because it it can trace all the types. It can figure out what it needs to do.

228
00:31:31,290 --> 00:31:55,180
Frank: um But I don't think we, the the attributes aren't perfect in sequela-net. So everyone keep your eyes open for a new beta coming out because I'm going to change up the API a tiny bit to make it even easier to use because we didn't quite nail it exactly right. Basically, there's still a few too many required unaccessed member thingers on there.

229
00:31:55,180 --> 00:31:59,380
James: Gonna make it a beautiful API version, version five, version five dot O.

230
00:31:59,380 --> 00:32:17,820
Frank: Well, ideally, if libraries do it right, like you shouldn't notice. you know it It should be one of those smooth things. So system.txt.json is the one Microsoft keeps promoting. They're like, do it the way we did it. We did it awesome. Just emulate us.

231
00:32:17,820 --> 00:32:23,000
Frank: But even that one's a little bit wacky. You got to create these like context things and then there's a code generation step and then all there's a lot of wackiness happening, magic wackiness, whatever happening in the background.

232
00:32:23,000 --> 00:32:29,820
James: Yep. Yeah.

233
00:32:29,820 --> 00:32:45,970
Frank: And that's definitely an option I could go through for SQLite, but it's just not necessary, honestly, in a lot of cases. But from the user's point of view, it should be as simple as my data types are here and it can analyze everything and figure it out.

234
00:32:45,970 --> 00:33:01,660
Frank: Ideally, that's how it all works. So it's been fun. I'm sticking with the it's still easy to upgrade from the.NET versions, but when they change an analysis rule like this, it gets ugly.

235
00:33:01,660 --> 00:33:14,780
Frank: and In some ways, this is even.NET's fault. This is more the iOS Mac world's fault where we try not to run the JIT at all in those worlds where we just statically compile everything.

236
00:33:14,780 --> 00:33:21,940
Frank: It's a harsh environment, but i think I think Microsoft's also promoting it where they want people making their web apps that way too, right?

237
00:33:21,940 --> 00:33:22,220
James: Yeah.

238
00:33:22,220 --> 00:33:22,650
Frank: Because it's faster.

239
00:33:22,650 --> 00:33:23,710
James: Yeah.

240
00:33:23,710 --> 00:33:24,660
Frank: It's better, faster.

241
00:33:24,660 --> 00:33:35,330
James: Faster, smaller, lighter, all the things. Well, because you gotta got to, yeah, that's harsh and you got to harden it because it's cause so harsh out there. If you don't have a hard, hard nap, then it's harsh.

242
00:33:35,330 --> 00:33:35,390
Frank: Meanwhile, you know, i had to install um a little management console for a little external monitor.

243
00:33:35,390 --> 00:33:41,780
James: Yeah.

244
00:33:41,780 --> 00:34:03,820
Frank: We'll talk about some other time. And that silly little management console, James, was 900 megabytes. It's all it's doing is setting a few settings on an external monitor and it's 900 megabytes. So I appreciate Microsoft trimming our apps, keeping our apps small. It's important. But at the same time, it feels like the rest of the world has just given up.

245
00:34:03,820 --> 00:34:12,310
Frank: They're just shipping gigabyte apps for absolutely no reason. This app has like six buttons in it and it's 900 megabytes. I'm not going to decompile it, but I'm curious.

246
00:34:12,310 --> 00:34:24,660
James: i think um I think that the, yeah you know, we'll do a little shade on Elgato, but I have like 18 Elgato apps installed on my machine.

247
00:34:24,660 --> 00:34:24,790
James: And because there's MirrorLink and then there's the camera app and you need the camera app as well as the MirrorLink app because it gives that.

248
00:34:24,790 --> 00:34:32,080
Frank: hmm.

249
00:34:32,080 --> 00:34:35,770
James: But the problem is with CameraHub. I'm sure you're talking CameraHub.

250
00:34:35,770 --> 00:34:37,110
Frank: I'm talking about Camera Hub. i didn't want to pit say names.

251
00:34:37,110 --> 00:34:38,290
James: Yeah.

252
00:34:38,290 --> 00:34:38,900
Frank: You said it, not me.

253
00:34:38,900 --> 00:34:40,990
James: Okay. the Here's the problem with CameraHub.

254
00:34:40,990 --> 00:34:43,610
Frank: 900 megabytes for a camera management app.

255
00:34:43,610 --> 00:35:06,300
James: The problem with Camera Hub is that Camera Hub is trying to do too much. They decided to put all the cable or the the the camera management, all the filters, the processing, all the libraries, into the same app as the teleprompter because the teleprompter inherently has a camera behind it, right? That you can do it. So they're like, oh two in one, let's do this, right?

256
00:35:06,300 --> 00:35:23,450
James: But the problem is that if you're not using an Elgato camera, you don't use anything else in that application. You only use the teleprompter stuff. So you wanna do the teleprompter stuff. um And then they just released, I'm not sure this is what is bloating it, but they did release a like sync voice text.

257
00:35:23,450 --> 00:35:28,900
James: yeah As you talk, it will like, it'll scroll your script for you. I tried It was kind of okay. um I need to calibrate it maybe.

258
00:35:28,900 --> 00:35:31,420
Frank: Mm-hmm.

259
00:35:31,420 --> 00:35:44,120
James: But I'm wondering if they shipped like a local model inside of it or if they're using the Apple model. I don't know. But I was like, if they're doing that, then it's way too big. And I, cause I can't imagine that they're doing it in the cloud because the latency would be so bad.

260
00:35:44,120 --> 00:35:45,300
James: So I don't know.

261
00:35:45,300 --> 00:36:05,240
Frank: I think it's just their development team has one way to build apps because every Elgato app is 900 megabytes. So they're just using a framework that just throws every megabyte they can find. Like, I assume it's just animated GIFs because i don't I don't see it.

262
00:36:05,240 --> 00:36:06,070
Frank: I don't see it anywhere else.

263
00:36:06,070 --> 00:36:06,720
James: Well, all all their apps are QT, I'm pretty sure.

264
00:36:06,720 --> 00:36:08,950
Frank: like

265
00:36:08,950 --> 00:36:23,030
James: I'm pretty sure they're all key. I mean, I don't know if the camera app is QT, but the most of their apps are QT. However, I did notice that they have a new, the the latest, the latest wavelength, which is for their microphones software.

266
00:36:23,030 --> 00:36:39,290
James: And also... I don't think it's the camera app. There's another one though. The betas are all like when you, I three applications on windows. So I think they're all native. So I'm wondering if they'll do that for the Mac and switch it back to a native Mac app, because I think that would be a lot smaller and lighter and tighter.

267
00:36:39,290 --> 00:37:05,940
James: um just like the native windows app it like looks and feels a lot better it's buggy but like you know it's the beta so we'll see but anyways elgato you know just saying shrink those apps down i mean i baby smash is tiny you know all my even all my.net applications are like 30 megs i mean come on i mean they're not you know they're tiny but yeah people are giving up anyways oh yeah i gotta go frank i'm just gonna i'm just gonna ramble here i'm just rambling at this point um

268
00:37:05,940 --> 00:37:14,420
Frank: So what's the conclusion of this podcast? Deploying apps is hard. it's It's like we just keep coming back to it over and over again in our mantras.

269
00:37:14,420 --> 00:37:41,620
James: Yeah. And it's the same because you know, I think of all that notarization stuff that opens stuff and all that other things. And I feel like all the Elgato apps and all these other like cool holiday hack projects that people did, it was like all over the place. Like everyone was just crazy stuff and there been standardization on it. If you get off the app store and it's the same on, on windows. Like if you look at a handsome and has like a cool app and I have a cool app and I have downloaders and updaters, they all do the same thing. It's all wacky. And on windows, they really don't want you to run apps that aren't notarized.

270
00:37:41,620 --> 00:37:55,100
James: I don't even know how to notarize them. i guess you got a signed cert or something like that. But it's like, they're like, are you sure? Are you really as sure? Like even the downloads, like, dude, I don't know, bro. So you got to put in a zip file. If you put the XE in a zip file, then everything's okay.

271
00:37:55,100 --> 00:37:56,210
James: So.

272
00:37:56,210 --> 00:38:06,670
Frank: Okay, I just have to say a good huge chunk of the Elgato apps is there's an entire web browser baked into every app, like in a an entire web browser.

273
00:38:06,670 --> 00:38:09,210
Frank: It's a part of the Qt distribution. So it is Qt.

274
00:38:09,210 --> 00:38:09,790
James: There it is There's QT.

275
00:38:09,790 --> 00:38:19,750
Frank: Qt should be fast, efficient, little native app, but they are shipping an entire web browser in every single app. And we can all guess why, because it's just some React nonsense.

276
00:38:19,750 --> 00:38:42,330
James: Oh my gosh. ah All right. All right, Frank. that's going to it for this week's Merge Conflict. Let us know you release your applications. If you're doing it better than us, let us know on YouTube. YouTube.com forward slash at Merge Conflict FM. You can find our beautiful faces every single week. That's going to for this podcast. So until next week, I'm James Montemagno.

277
00:38:42,330 --> 00:38:45,980
Frank: And I'm Frank Kruger. Thanks for watching and listening.

278
00:38:45,980 --> 00:38:50,980
James: Peace.
